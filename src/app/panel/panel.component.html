<div class="container-fluid p-0">
  <!-- Header -->
  <nav class="navbar navbar-dark bg-primary sticky-top shadow-sm">
    <div class="container-fluid d-flex justify-content-between align-items-center">
      <span class="navbar-brand h1 fs-4 mb-0">CENTRO MÉDICO EASY DATA</span>
      <!-- Toggle sidebar en móviles -->
      <button class="btn btn-outline-light d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle sidebar">
        <i class="bi bi-list fs-3"></i>
      </button>
    </div>
  </nav>

  <div class="row g-0">
    <!-- Sidebar -->
    <div id="sidebar" class="col-md-3 col-xl-2 bg-dark d-md-block collapse text-white">
      <div class="d-flex flex-column align-items-center align-items-sm-start min-vh-100 p-3 pt-2">
        <a routerLink="/panel/dashboard" class="d-flex align-items-center text-decoration-none mb-3 text-white">
          <i class="bi bi-speedometer2 fs-4 me-2"></i>
          <span class="fs-5 d-none d-sm-inline">Dashboard</span>
        </a>

        <hr class="text-secondary w-100">

        <ul class="nav nav-pills flex-column w-100 mb-auto">
          <li class="nav-item mb-2">
            <a routerLink="/panel/pacientes" class="nav-link d-flex align-items-center hover-bg-light rounded px-3 py-2 text-white">
              <i class="bi bi-person-lines-fill fs-5 me-2"></i>
              <span class="d-none d-sm-inline">Pacientes</span>
            </a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/panel/consultas" class="nav-link d-flex align-items-center hover-bg-light rounded px-3 py-2 text-white">
              <i class="bi bi-heart-pulse fs-5 me-2"></i>
              <span class="d-none d-sm-inline">Consultas</span>
            </a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/panel/fonoaudiologia" class="nav-link d-flex align-items-center hover-bg-light rounded px-3 py-2 text-white">
              <i class="bi bi-ear fs-5 me-2"></i>
              <span class="d-none d-sm-inline">Fonoaudiología</span>
            </a>
          </li>
          <li class="nav-item mb-2">
            <a routerLink="/panel/Psicología" class="nav-link d-flex align-items-center hover-bg-light rounded px-3 py-2 text-white">
              <i class="bi bi-brain fs-5 me-2"></i>
              <span class="d-none d-sm-inline">Psicología</span>
            </a>
          </li>
          <li class="nav-item w-100 mt-auto">
            <button class="btn btn-outline-light w-100 d-flex align-items-center justify-content-center mt-4" data-bs-toggle="modal" data-bs-target="#logoutModal">
              <i class="bi bi-box-arrow-right me-2"></i> Logout
            </button>
          </li>
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div class="col-md-9 col-xl-10 bg-light min-vh-100 p-4">
      <router-outlet></router-outlet>
  </div>
</div>

<!-- Logout Modal -->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="logoutModalLabel">Cerrar Sesión</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">¿Estás seguro que deseas cerrar sesión?</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="exit()" data-bs-dismiss="modal">Cancelar</button>
        <a class="btn btn-primary" routerLink="/">Cerrar Sesión</a>
      </div>
    </div>
  </div>
</div>

<!-- CSS adicional -->
<style>
  .hover-bg-light:hover {
    background-color: rgba(255,255,255,0.1);
    transition: 0.3s;
  }

  /* Sidebar collapse para móviles */
  @media (max-width: 768px) {
    #sidebar {
      position: fixed;
      top: 56px;
      left: 0;
      height: 100%;
      z-index: 1030;
      overflow-y: auto;
      transition: transform 0.3s ease-in-out;
    }

      #sidebar.collapse:not(.show) {
        transform: translateX(-100%);
      }
  }
</style>
